; PlatformIO Configuration File for Silicon Vitals Monitor
; ATmega328P Internal Temperature Sensor Project

[env:uno]
platform = atmelavr
board = uno
framework = 

; Build flags matching original Makefile
; Note: F_CPU is automatically defined by PlatformIO for the Uno board
build_flags = 
    -DBAUD=9600
    -Os
    -Wall
    -Wextra
    -Wpedantic
    -std=c99
    -ffunction-sections
    -fdata-sections

; Linker flags for size optimization
build_unflags = -std=gnu++11

; Source directory
src_dir = src

; Include directories
build_src_filter = 
    +<*>
    +<drivers/*>
    +<math/*>

; Upload settings (auto-detected COM port)
upload_speed = 115200

; Serial monitor settings
monitor_speed = 9600

; Optional: specify port manually if needed
; upload_port = COM3
; monitor_port = COM3

[env:uno_debug]
platform = atmelavr
board = uno
framework = 

build_flags = 
    -DBAUD=9600
    -O0
    -g
    -Wall
    -Wextra
    -Wpedantic
    -std=c99
    -DDEBUG

src_dir = src

monitor_speed = 9600
